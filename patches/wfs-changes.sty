% Both changes.sty and comment.sty define a \comment macro.

% Use comment.sty's \comment macro only within a comment environment
\@ifpackageloaded{comment}{
	\let\wfs@COMMENT@comment\comment
	\let\comment\@undefined
	
	\RequirePackage{changes}
	\let\wfs@CHANGES@comment\comment
	\let\comment\@undefined
	
	\RequirePackage{xifthen}
	\newcommand\comment{%
		\ifthenelse{\equal{\@currenvir}{comment}}
			{\wfs@COMMENT@comment}
			{\wfs@CHANGES@comment}%
	}
}{\RequirePackage{changes}}
