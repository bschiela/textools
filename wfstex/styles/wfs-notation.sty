% Defines default math notation and convenience macros.
% TODO deprecate as many as possible in favor of physics/physics2 package built-ins?

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{wfs-notation}[2025/05/13 v1.2]

\RequirePackage{physics} % e.g. Dirac notation
\RequirePackage[version=4]{mhchem} % chemistry formulas, orbital notation
\RequirePackage{siunitx}  % physical units
\sisetup{%
    group-digits=integer,
    group-separator={,},
    range-phrase=\text{--},
    range-units=single,
    retain-unity-mantissa=false,
    table-align-text-post=false,
}
\DeclareSIUnit\angstrom{\text{Ã…}}

\RequirePackage{mathtools} % extends amsmath
\RequirePackage{amssymb} % e.g. set notation

\RequirePackage{dsfont} % double-stroke font (e.g. identity operator)
\RequirePackage{bm} % bold math symbols (e.g. greek letters)
\RequirePackage{nth} % 1st, 2nd, etc.
\usepackage{xfrac}  % diagonal fractions e.g. for 1/16"

% math operators
\DeclareMathOperator{\sign}{sgn}
\DeclareMathOperator*{\SPAN}{span}
\DeclareMathOperator{\sinc}{sinc}
\DeclareMathOperator{\argmax}{argmax}
\DeclareMathOperator{\argmin}{argmin}

% inexact differential
\def\dbar{{\mathchar'26\mkern-15mu \operatorname{d}}}

% sets
\newcommand*\naturals {\mathbb{N}}
\newcommand*\integers {\mathbb{Z}}
\newcommand*\reals    {\mathbb{R}}
\newcommand*\complex  {\mathbb{C}}
\newcommand*\union    {\bigcup}
\newcommand*\intersect{\bigcap}
\let\emptysetzero\emptyset
\let\emptyset\varnothing

% products
\newcommand*\dotp   {\vdot}
\newcommand*\crossp {\cross}
\newcommand*\tensorp{\otimes}

% symbols
\newcommand*\kdelta{\delta}           % Kronecker delta
\newcommand*\ddelta{\delta}           % Dirac delta
\newcommand*\levic {\varepsilon}      % Levi-Civita symbol
\newcommand*\defeq {\triangleq}       % definition
\newcommand*\repeq {\doteq}           % representation
\newcommand*\reqeq {\overset{!}{=}}   % require equal to
\newcommand*\swap  {\leftrightarrow}  % "swapped with"
\newcommand*\bigO  {\mathcal{O}}      % big O notation
\newcommand*\LL    {\mathcal{L}}      % Lagrangian
\newcommand*\HH    {\mathcal{H}}      % Hamiltonian or Hilbert space
\newcommand*\ZZ    {\mathcal{Z}}      % partition function
\newcommand*\GG    {\mathcal{G}}      % group

% subscripts
\newcommand*\sub[2]{_{\text{#1}#2}}   % generic textual subscript
\newcommand*\bohr  {_\text{B}}        % Bohr   (e.g. magneton \mu\bohr)
\newcommand*\boltz {_\text{B}}        % Boltzmann  (e.g. constant k\boltz)
\newcommand*\fermi {_\text{F}}        % Fermi  (e.g. velocity v\fermi)
\newcommand*\josephson{_\text{J}}     % Josephson  (e.g. energy E\josephson)
\newcommand*\zeeman{_\text{Z}}        % Zeeman (e.g. energy E\zeeman)
\newcommand*\crit  {_\text{c}}        % critical (e.g. temperature T\crit)
\newcommand*\normal{_\text{n}}        % normal (e.g. resistance R\normal)

% vectors and operators
\let\arrow\vec
\renewcommand*\vec [1]{\vb*{#1}}      % vector (from physics package)
\newcommand*\uvec  [1]{\vu*{#1}}      % unit vector (from physics package)
\newcommand*\vop   [1]{\vec{#1}}      % vector operator
\newcommand*\pauli    {\sigma}        % Pauli matrix
\newcommand*\pauliv   {\vop{\pauli}}  % Pauli vector
\newcommand*\id       {\mathds{1}}    % identity operator
\newcommand*\hc       {^\dag}         % Hermitian conjugate
\newcommand*\transpose{^\intercal}    % matrix transpose

% tensor indices
\RequirePackage{tensor}

% QEDs
\newcommand*\openQED  {\ensuremath{\openbox}}
\newcommand*\filledQED{\ensuremath{\blacksquare}}
\newcommand*\QED      {\openQED}

% misc
\newcommand*\mean[1]{\overline{#1}}
