\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{wfs-theorem}[2019/04/16]

\RequirePackage{amsthm, thmtools}
\RequirePackage{wfs-notation}

\@ifclassloaded{book}{\newcommand*\toplevelsection{chapter}}{}
\@ifclassloaded{report}{\newcommand*\toplevelsection{chapter}}{}
\@ifclassloaded{article}{\newcommand*\toplevelsection{section}}{}

% theorem
%%%%%%%%%%%
\declaretheoremstyle[
	headfont=\bfseries,
	notefont=\bfseries,
	bodyfont=\normalfont,
	headpunct=.,
	postheadspace=0.5em,
]{bold}
\declaretheorem[
	style=bold,
	numberwithin=\toplevelsection,
	shaded={
		rulewidth=1pt,
		rulecolor=black,
		bgcolor=white,
		textwidth=0.95\linewidth,
		margin=0.025\linewidth,
	}
]{theorem}

% definition
%%%%%%%%%%%%%%
\declaretheoremstyle[
	spaceabove=2ex,
	spacebelow=2ex,
	headfont=\bfseries,
	notefont=\bfseries,
	bodyfont=\normalfont,
	headpunct=.,
	postheadspace=0.5em,
	qed=\filledQED,
]{bold+qed}
\declaretheorem[
	style=bold+qed,
	numberwithin=\toplevelsection,
]{definition}

% corollary
%%%%%%%%%%%%%
\declaretheorem[
	style=bold+qed,
	numberwithin=theorem,
]{corollary}

% lemma
%%%%%%%%%
\declaretheorem[
	style=bold+qed,
	numberlike=theorem,
]{lemma}

% proof
%%%%%%%%%
\declaretheoremstyle[
	spaceabove=2ex,
	spacebelow=2ex,
	headfont=\itshape,
	notefont=\itshape,
	bodyfont=\normalfont,
	headpunct=:,
	postheadspace=0.5em,
	qed=\openQED,
]{italic+qed}
\let\proof\@undefined
\declaretheorem[
	style=italic+qed,
	numbered=no,
]{proof}

% derivation
\declaretheorem[
	style=italic+qed,
	numbered=no,
]{derivation}
